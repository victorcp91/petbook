"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"884901dc4ce7\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/MWFiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjg4NDkwMWRjNGNlN1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useAuth.ts":
/*!******************************!*\
  !*** ./src/hooks/useAuth.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* harmony import */ var _lib_auth_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth-config */ \"(app-pages-browser)/./src/lib/auth-config.ts\");\n\n\n\nfunction useAuth() {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        user: null,\n        session: null,\n        loading: false,\n        error: null\n    });\n    // Initialize auth state\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Get initial session\n        const getInitialSession = async ()=>{\n            try {\n                var _session_user, _session_user1;\n                console.log(\"useAuth: Getting initial session...\");\n                const { data: { session }, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getSession();\n                console.log(\"useAuth: Initial session result:\", {\n                    hasSession: !!session,\n                    userId: session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id,\n                    userEmail: session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.email,\n                    error: error === null || error === void 0 ? void 0 : error.message,\n                    sessionExpiresAt: session === null || session === void 0 ? void 0 : session.expires_at,\n                    sessionAccessToken: (session === null || session === void 0 ? void 0 : session.access_token) ? \"PRESENT\" : \"MISSING\"\n                });\n                if (error) {\n                    console.error(\"useAuth: Error getting session:\", error);\n                    setState((prev)=>({\n                            ...prev,\n                            error,\n                            loading: false\n                        }));\n                    return;\n                }\n                if (session) {\n                    console.log(\"useAuth: Enriching user data...\");\n                    const user = await enrichUserData(session.user);\n                    console.log(\"useAuth: User enriched:\", {\n                        id: user.id,\n                        email: user.email,\n                        role: user.role,\n                        shop_id: user.shop_id\n                    });\n                    setState({\n                        user,\n                        session,\n                        loading: false,\n                        error: null\n                    });\n                } else {\n                    console.log(\"useAuth: No session found\");\n                    setState((prev)=>({\n                            ...prev,\n                            loading: false\n                        }));\n                }\n            } catch (error) {\n                console.error(\"useAuth: Exception getting initial session:\", error);\n                setState((prev)=>({\n                        ...prev,\n                        error: error,\n                        loading: false\n                    }));\n            }\n        };\n        getInitialSession();\n        // Listen for auth changes\n        const { data: { subscription } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.onAuthStateChange(async (event, session)=>{\n            var _session_user, _session_user1;\n            console.log(\"useAuth: Auth state changed:\", event, {\n                hasSession: !!session,\n                userId: session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id,\n                userEmail: session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.email,\n                sessionExpiresAt: session === null || session === void 0 ? void 0 : session.expires_at,\n                sessionAccessToken: (session === null || session === void 0 ? void 0 : session.access_token) ? \"PRESENT\" : \"MISSING\"\n            });\n            setState((prev)=>({\n                    ...prev,\n                    loading: true\n                }));\n            if (session) {\n                console.log(\"useAuth: Enriching user data for auth change...\");\n                const user = await enrichUserData(session.user);\n                console.log(\"useAuth: User enriched for auth change:\", {\n                    id: user.id,\n                    email: user.email,\n                    role: user.role,\n                    shop_id: user.shop_id\n                });\n                setState({\n                    user,\n                    session,\n                    loading: false,\n                    error: null\n                });\n            } else {\n                console.log(\"useAuth: Session cleared\");\n                setState({\n                    user: null,\n                    session: null,\n                    loading: false,\n                    error: null\n                });\n            }\n        });\n        return ()=>subscription.unsubscribe();\n    }, []);\n    // Enrich user data with role and permissions\n    const enrichUserData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (user)=>{\n        try {\n            // Get user profile from database\n            const { data: profile, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"users\").select(\"role, shop_id, permissions\").eq(\"id\", user.id).single();\n            if (error) {\n                console.warn(\"Error fetching user profile:\", error);\n                // Return user without enriched data if profile doesn't exist\n                // This can happen during signup before the profile is created\n                return {\n                    ...user,\n                    role: \"attendant\",\n                    shop_id: undefined,\n                    permissions: []\n                };\n            }\n            return {\n                ...user,\n                role: (profile === null || profile === void 0 ? void 0 : profile.role) || \"attendant\",\n                shop_id: profile === null || profile === void 0 ? void 0 : profile.shop_id,\n                permissions: (profile === null || profile === void 0 ? void 0 : profile.permissions) || []\n            };\n        } catch (error) {\n            console.error(\"Error enriching user data:\", error);\n            // Return user without enriched data on error\n            return {\n                ...user,\n                role: \"attendant\",\n                shop_id: undefined,\n                permissions: []\n            };\n        }\n    }, []);\n    // Sign in with email and password\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email, password)=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signInWithPassword({\n                email,\n                password\n            });\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error,\n                        loading: false\n                    }));\n                return {\n                    user: null,\n                    error\n                };\n            }\n            if (data.user) {\n                const enrichedUser = await enrichUserData(data.user);\n                setState({\n                    user: enrichedUser,\n                    session: data.session,\n                    loading: false,\n                    error: null\n                });\n                return {\n                    user: enrichedUser,\n                    error: null\n                };\n            }\n            return {\n                user: null,\n                error: null\n            };\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                user: null,\n                error: authError\n            };\n        }\n    }, [\n        enrichUserData\n    ]);\n    // Sign up with email and password\n    const signUp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email, password, userData)=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            // If shop_data is provided, save it to a temporary table for later use\n            if (userData.shop_data) {\n                const { error: tempShopError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"temp_shop_data\").insert({\n                    email: email,\n                    shop_data: userData.shop_data,\n                    created_at: new Date().toISOString()\n                });\n                if (tempShopError) {\n                    console.error(\"Error saving temporary shop data:\", tempShopError);\n                }\n            }\n            let data = null, error = null;\n            try {\n                const result = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signUp({\n                    email,\n                    password,\n                    options: {\n                        data: {\n                            name: userData.name,\n                            role: userData.role || _lib_auth_config__WEBPACK_IMPORTED_MODULE_2__.userRoles.ATTENDANT,\n                            shop_id: userData.shop_id\n                        },\n                        emailRedirectTo: \"\".concat(window.location.origin, \"/auth/confirm\")\n                    }\n                });\n                data = result.data;\n                error = result.error;\n            } catch (signUpError) {\n                console.error(\"Exception during supabase.auth.signUp:\", signUpError);\n                error = signUpError;\n                data = null;\n            }\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error,\n                        loading: false\n                    }));\n                return {\n                    user: null,\n                    error\n                };\n            }\n            // If user needs email confirmation, don't create profile yet\n            if (data.user && !data.session) {\n                // User needs to confirm email\n                setState((prev)=>({\n                        ...prev,\n                        loading: false\n                    }));\n                return {\n                    user: null,\n                    error: null\n                };\n            }\n            if (data.user && data.session) {\n                // User was confirmed immediately (rare case)\n                const enrichedUser = await enrichUserData(data.user);\n                setState({\n                    user: enrichedUser,\n                    session: data.session,\n                    loading: false,\n                    error: null\n                });\n                return {\n                    user: enrichedUser,\n                    error: null\n                };\n            }\n            return {\n                user: null,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error in signUp:\", error);\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                user: null,\n                error: authError\n            };\n        }\n    }, [\n        enrichUserData\n    ]);\n    // Sign out\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true\n                }));\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signOut();\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error,\n                        loading: false\n                    }));\n                return {\n                    error\n                };\n            }\n            setState({\n                user: null,\n                session: null,\n                loading: false,\n                error: null\n            });\n            return {\n                error: null\n            };\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                error: authError\n            };\n        }\n    }, []);\n    // Reset password\n    const resetPassword = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email)=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.resetPasswordForEmail(email, {\n                redirectTo: \"\".concat(window.location.origin, \"/auth/reset-password\")\n            });\n            setState((prev)=>({\n                    ...prev,\n                    loading: false\n                }));\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error\n                    }));\n                return {\n                    error\n                };\n            }\n            return {\n                error: null\n            };\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                error: authError\n            };\n        }\n    }, []);\n    // Update password\n    const updatePassword = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (password)=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.updateUser({\n                password\n            });\n            setState((prev)=>({\n                    ...prev,\n                    loading: false\n                }));\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error\n                    }));\n                return {\n                    error\n                };\n            }\n            return {\n                error: null\n            };\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                error: authError\n            };\n        }\n    }, []);\n    // Update profile\n    const updateProfile = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (updates)=>{\n        try {\n            setState((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            // Update auth user data\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.updateUser({\n                data: updates\n            });\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error,\n                        loading: false\n                    }));\n                return {\n                    user: null,\n                    error\n                };\n            }\n            if (data.user) {\n                // Update user profile in database\n                const { error: profileError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"users\").update(updates).eq(\"id\", data.user.id);\n                if (profileError) {\n                    console.error(\"Error updating user profile:\", profileError);\n                }\n                const enrichedUser = await enrichUserData(data.user);\n                setState((prev)=>({\n                        ...prev,\n                        user: enrichedUser,\n                        loading: false\n                    }));\n                return {\n                    user: enrichedUser,\n                    error: null\n                };\n            }\n            return {\n                user: null,\n                error: null\n            };\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError,\n                    loading: false\n                }));\n            return {\n                user: null,\n                error: authError\n            };\n        }\n    }, [\n        enrichUserData\n    ]);\n    // Refresh session\n    const refreshSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.refreshSession();\n            if (error) {\n                setState((prev)=>({\n                        ...prev,\n                        error\n                    }));\n                return;\n            }\n            if (data.session) {\n                const user = await enrichUserData(data.session.user);\n                setState((prev)=>({\n                        ...prev,\n                        user,\n                        session: data.session,\n                        error: null\n                    }));\n            }\n        } catch (error) {\n            const authError = error;\n            setState((prev)=>({\n                    ...prev,\n                    error: authError\n                }));\n        }\n    }, [\n        enrichUserData\n    ]);\n    return {\n        ...state,\n        signIn,\n        signUp,\n        signOut,\n        resetPassword,\n        updatePassword,\n        updateProfile,\n        refreshSession\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9ob29rcy91c2VBdXRoLnRzPzNjMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVc2VyLCBTZXNzaW9uLCBBdXRoRXJyb3IgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyB1c2VyUm9sZXMsIHR5cGUgVXNlclJvbGUgfSBmcm9tICdAL2xpYi9hdXRoLWNvbmZpZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFVzZXIgZXh0ZW5kcyBVc2VyIHtcbiAgcm9sZT86IFVzZXJSb2xlO1xuICBzaG9wX2lkPzogc3RyaW5nO1xuICBwZXJtaXNzaW9ucz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhTdGF0ZSB7XG4gIHVzZXI6IEF1dGhVc2VyIHwgbnVsbDtcbiAgc2Vzc2lvbjogU2Vzc2lvbiB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBBdXRoRXJyb3IgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhBY3Rpb25zIHtcbiAgc2lnbkluOiAoXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICkgPT4gUHJvbWlzZTx7IHVzZXI6IEF1dGhVc2VyIHwgbnVsbDsgZXJyb3I6IEF1dGhFcnJvciB8IG51bGwgfT47XG4gIHNpZ25VcDogKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICB1c2VyRGF0YToge1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgcm9sZT86IFVzZXJSb2xlO1xuICAgICAgc2hvcF9pZD86IHN0cmluZztcbiAgICAgIHNob3BfZGF0YT86IGFueTtcbiAgICB9XG4gICkgPT4gUHJvbWlzZTx7IHVzZXI6IEF1dGhVc2VyIHwgbnVsbDsgZXJyb3I6IEF1dGhFcnJvciB8IG51bGwgfT47XG4gIHNpZ25PdXQ6ICgpID0+IFByb21pc2U8eyBlcnJvcjogQXV0aEVycm9yIHwgbnVsbCB9PjtcbiAgcmVzZXRQYXNzd29yZDogKGVtYWlsOiBzdHJpbmcpID0+IFByb21pc2U8eyBlcnJvcjogQXV0aEVycm9yIHwgbnVsbCB9PjtcbiAgdXBkYXRlUGFzc3dvcmQ6IChwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHsgZXJyb3I6IEF1dGhFcnJvciB8IG51bGwgfT47XG4gIHVwZGF0ZVByb2ZpbGU6IChcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEF1dGhVc2VyPlxuICApID0+IFByb21pc2U8eyB1c2VyOiBBdXRoVXNlciB8IG51bGw7IGVycm9yOiBBdXRoRXJyb3IgfCBudWxsIH0+O1xuICByZWZyZXNoU2Vzc2lvbjogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKTogQXV0aFN0YXRlICYgQXV0aEFjdGlvbnMge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPEF1dGhTdGF0ZT4oe1xuICAgIHVzZXI6IG51bGwsXG4gICAgc2Vzc2lvbjogbnVsbCxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbCxcbiAgfSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBhdXRoIHN0YXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gR2V0IGluaXRpYWwgc2Vzc2lvblxuICAgIGNvbnN0IGdldEluaXRpYWxTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZUF1dGg6IEdldHRpbmcgaW5pdGlhbCBzZXNzaW9uLi4uJyk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBkYXRhOiB7IHNlc3Npb24gfSxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VBdXRoOiBJbml0aWFsIHNlc3Npb24gcmVzdWx0OicsIHtcbiAgICAgICAgICBoYXNTZXNzaW9uOiAhIXNlc3Npb24sXG4gICAgICAgICAgdXNlcklkOiBzZXNzaW9uPy51c2VyPy5pZCxcbiAgICAgICAgICB1c2VyRW1haWw6IHNlc3Npb24/LnVzZXI/LmVtYWlsLFxuICAgICAgICAgIGVycm9yOiBlcnJvcj8ubWVzc2FnZSxcbiAgICAgICAgICBzZXNzaW9uRXhwaXJlc0F0OiBzZXNzaW9uPy5leHBpcmVzX2F0LFxuICAgICAgICAgIHNlc3Npb25BY2Nlc3NUb2tlbjogc2Vzc2lvbj8uYWNjZXNzX3Rva2VuID8gJ1BSRVNFTlQnIDogJ01JU1NJTkcnLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCd1c2VBdXRoOiBFcnJvciBnZXR0aW5nIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3IsIGxvYWRpbmc6IGZhbHNlIH0pKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VBdXRoOiBFbnJpY2hpbmcgdXNlciBkYXRhLi4uJyk7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGVucmljaFVzZXJEYXRhKHNlc3Npb24udXNlcik7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3VzZUF1dGg6IFVzZXIgZW5yaWNoZWQ6Jywge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgICAgIHNob3BfaWQ6IHVzZXIuc2hvcF9pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3VzZUF1dGg6IE5vIHNlc3Npb24gZm91bmQnKTtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IGZhbHNlIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigndXNlQXV0aDogRXhjZXB0aW9uIGdldHRpbmcgaW5pdGlhbCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgZXJyb3I6IGVycm9yIGFzIEF1dGhFcnJvcixcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBnZXRJbml0aWFsU2Vzc2lvbigpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBhdXRoIGNoYW5nZXNcbiAgICBjb25zdCB7XG4gICAgICBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9LFxuICAgIH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKGFzeW5jIChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3VzZUF1dGg6IEF1dGggc3RhdGUgY2hhbmdlZDonLCBldmVudCwge1xuICAgICAgICBoYXNTZXNzaW9uOiAhIXNlc3Npb24sXG4gICAgICAgIHVzZXJJZDogc2Vzc2lvbj8udXNlcj8uaWQsXG4gICAgICAgIHVzZXJFbWFpbDogc2Vzc2lvbj8udXNlcj8uZW1haWwsXG4gICAgICAgIHNlc3Npb25FeHBpcmVzQXQ6IHNlc3Npb24/LmV4cGlyZXNfYXQsXG4gICAgICAgIHNlc3Npb25BY2Nlc3NUb2tlbjogc2Vzc2lvbj8uYWNjZXNzX3Rva2VuID8gJ1BSRVNFTlQnIDogJ01JU1NJTkcnLFxuICAgICAgfSk7XG5cbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogdHJ1ZSB9KSk7XG5cbiAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VBdXRoOiBFbnJpY2hpbmcgdXNlciBkYXRhIGZvciBhdXRoIGNoYW5nZS4uLicpO1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZW5yaWNoVXNlckRhdGEoc2Vzc2lvbi51c2VyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZUF1dGg6IFVzZXIgZW5yaWNoZWQgZm9yIGF1dGggY2hhbmdlOicsIHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgICAgc2hvcF9pZDogdXNlci5zaG9wX2lkLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygndXNlQXV0aDogU2Vzc2lvbiBjbGVhcmVkJyk7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICAgIHNlc3Npb246IG51bGwsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgLy8gRW5yaWNoIHVzZXIgZGF0YSB3aXRoIHJvbGUgYW5kIHBlcm1pc3Npb25zXG4gIGNvbnN0IGVucmljaFVzZXJEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXI6IFVzZXIpOiBQcm9taXNlPEF1dGhVc2VyPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB1c2VyIHByb2ZpbGUgZnJvbSBkYXRhYmFzZVxuICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgncm9sZSwgc2hvcF9pZCwgcGVybWlzc2lvbnMnKVxuICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBmZXRjaGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgICAvLyBSZXR1cm4gdXNlciB3aXRob3V0IGVucmljaGVkIGRhdGEgaWYgcHJvZmlsZSBkb2Vzbid0IGV4aXN0XG4gICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBkdXJpbmcgc2lnbnVwIGJlZm9yZSB0aGUgcHJvZmlsZSBpcyBjcmVhdGVkXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4udXNlcixcbiAgICAgICAgICByb2xlOiAnYXR0ZW5kYW50JyBhcyBVc2VyUm9sZSwgLy8gRGVmYXVsdCByb2xlXG4gICAgICAgICAgc2hvcF9pZDogdW5kZWZpbmVkLFxuICAgICAgICAgIHBlcm1pc3Npb25zOiBbXSxcbiAgICAgICAgfSBhcyBBdXRoVXNlcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udXNlcixcbiAgICAgICAgcm9sZTogKHByb2ZpbGU/LnJvbGUgYXMgVXNlclJvbGUpIHx8ICdhdHRlbmRhbnQnLFxuICAgICAgICBzaG9wX2lkOiBwcm9maWxlPy5zaG9wX2lkLFxuICAgICAgICBwZXJtaXNzaW9uczogcHJvZmlsZT8ucGVybWlzc2lvbnMgfHwgW10sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbnJpY2hpbmcgdXNlciBkYXRhOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgZW5yaWNoZWQgZGF0YSBvbiBlcnJvclxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udXNlcixcbiAgICAgICAgcm9sZTogJ2F0dGVuZGFudCcgYXMgVXNlclJvbGUsIC8vIERlZmF1bHQgcm9sZVxuICAgICAgICBzaG9wX2lkOiB1bmRlZmluZWQsXG4gICAgICAgIHBlcm1pc3Npb25zOiBbXSxcbiAgICAgIH0gYXMgQXV0aFVzZXI7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2lnbiBpbiB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZFxuICBjb25zdCBzaWduSW4gPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KSk7XG5cbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnVzZXIpIHtcbiAgICAgICAgICBjb25zdCBlbnJpY2hlZFVzZXIgPSBhd2FpdCBlbnJpY2hVc2VyRGF0YShkYXRhLnVzZXIpO1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXI6IGVucmljaGVkVXNlcixcbiAgICAgICAgICAgIHNlc3Npb246IGRhdGEuc2Vzc2lvbixcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcjogZW5yaWNoZWRVc2VyLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IG51bGwgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGF1dGhFcnJvciA9IGVycm9yIGFzIEF1dGhFcnJvcjtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogYXV0aEVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybiB7IHVzZXI6IG51bGwsIGVycm9yOiBhdXRoRXJyb3IgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtlbnJpY2hVc2VyRGF0YV1cbiAgKTtcblxuICAvLyBTaWduIHVwIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gIGNvbnN0IHNpZ25VcCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgICAgdXNlckRhdGE6IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICByb2xlPzogVXNlclJvbGU7XG4gICAgICAgIHNob3BfaWQ/OiBzdHJpbmc7XG4gICAgICAgIHNob3BfZGF0YT86IGFueTtcbiAgICAgIH1cbiAgICApID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSkpO1xuXG4gICAgICAgIC8vIElmIHNob3BfZGF0YSBpcyBwcm92aWRlZCwgc2F2ZSBpdCB0byBhIHRlbXBvcmFyeSB0YWJsZSBmb3IgbGF0ZXIgdXNlXG4gICAgICAgIGlmICh1c2VyRGF0YS5zaG9wX2RhdGEpIHtcbiAgICAgICAgICBjb25zdCB7IGVycm9yOiB0ZW1wU2hvcEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3RlbXBfc2hvcF9kYXRhJylcbiAgICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgIHNob3BfZGF0YTogdXNlckRhdGEuc2hvcF9kYXRhLFxuICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh0ZW1wU2hvcEVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdGVtcG9yYXJ5IHNob3AgZGF0YTonLCB0ZW1wU2hvcEVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YTogYW55ID0gbnVsbCxcbiAgICAgICAgICBlcnJvcjogQXV0aEVycm9yIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgcm9sZTogdXNlckRhdGEucm9sZSB8fCB1c2VyUm9sZXMuQVRURU5EQU5ULFxuICAgICAgICAgICAgICAgIHNob3BfaWQ6IHVzZXJEYXRhLnNob3BfaWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVtYWlsUmVkaXJlY3RUbzogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXV0aC9jb25maXJtYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkYXRhID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgZXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICAgIH0gY2F0Y2ggKHNpZ25VcEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIGR1cmluZyBzdXBhYmFzZS5hdXRoLnNpZ25VcDonLCBzaWduVXBFcnJvcik7XG4gICAgICAgICAgZXJyb3IgPSBzaWduVXBFcnJvciBhcyBBdXRoRXJyb3I7XG4gICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHVzZXIgbmVlZHMgZW1haWwgY29uZmlybWF0aW9uLCBkb24ndCBjcmVhdGUgcHJvZmlsZSB5ZXRcbiAgICAgICAgaWYgKGRhdGEudXNlciAmJiAhZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgLy8gVXNlciBuZWVkcyB0byBjb25maXJtIGVtYWlsXG4gICAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnVzZXIgJiYgZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgLy8gVXNlciB3YXMgY29uZmlybWVkIGltbWVkaWF0ZWx5IChyYXJlIGNhc2UpXG4gICAgICAgICAgY29uc3QgZW5yaWNoZWRVc2VyID0gYXdhaXQgZW5yaWNoVXNlckRhdGEoZGF0YS51c2VyKTtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICB1c2VyOiBlbnJpY2hlZFVzZXIsXG4gICAgICAgICAgICBzZXNzaW9uOiBkYXRhLnNlc3Npb24sXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7IHVzZXI6IGVucmljaGVkVXNlciwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHVzZXI6IG51bGwsIGVycm9yOiBudWxsIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzaWduVXA6JywgZXJyb3IpO1xuICAgICAgICBjb25zdCBhdXRoRXJyb3IgPSBlcnJvciBhcyBBdXRoRXJyb3I7XG4gICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IGF1dGhFcnJvciwgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgICByZXR1cm4geyB1c2VyOiBudWxsLCBlcnJvcjogYXV0aEVycm9yIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBbZW5yaWNoVXNlckRhdGFdXG4gICk7XG5cbiAgLy8gU2lnbiBvdXRcbiAgY29uc3Qgc2lnbk91dCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiB0cnVlIH0pKTtcblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgc2Vzc2lvbjogbnVsbCxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGF1dGhFcnJvciA9IGVycm9yIGFzIEF1dGhFcnJvcjtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IGF1dGhFcnJvciwgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGF1dGhFcnJvciB9O1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFJlc2V0IHBhc3N3b3JkXG4gIGNvbnN0IHJlc2V0UGFzc3dvcmQgPSB1c2VDYWxsYmFjayhhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pKTtcblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwoZW1haWwsIHtcbiAgICAgICAgcmVkaXJlY3RUbzogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXV0aC9yZXNldC1wYXNzd29yZGAsXG4gICAgICB9KTtcblxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiBmYWxzZSB9KSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yIH0pKTtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgYXV0aEVycm9yID0gZXJyb3IgYXMgQXV0aEVycm9yO1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogYXV0aEVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICByZXR1cm4geyBlcnJvcjogYXV0aEVycm9yIH07XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gVXBkYXRlIHBhc3N3b3JkXG4gIGNvbnN0IHVwZGF0ZVBhc3N3b3JkID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KSk7XG5cbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgudXBkYXRlVXNlcih7XG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgfSk7XG5cbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogZmFsc2UgfSkpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvciB9KSk7XG4gICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGF1dGhFcnJvciA9IGVycm9yIGFzIEF1dGhFcnJvcjtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IGF1dGhFcnJvciwgbG9hZGluZzogZmFsc2UgfSkpO1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGF1dGhFcnJvciB9O1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFVwZGF0ZSBwcm9maWxlXG4gIGNvbnN0IHVwZGF0ZVByb2ZpbGUgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAodXBkYXRlczogUGFydGlhbDxBdXRoVXNlcj4pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSkpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBhdXRoIHVzZXIgZGF0YVxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnVwZGF0ZVVzZXIoe1xuICAgICAgICAgIGRhdGE6IHVwZGF0ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3IsIGxvYWRpbmc6IGZhbHNlIH0pKTtcbiAgICAgICAgICByZXR1cm4geyB1c2VyOiBudWxsLCBlcnJvciB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEudXNlcikge1xuICAgICAgICAgIC8vIFVwZGF0ZSB1c2VyIHByb2ZpbGUgaW4gZGF0YWJhc2VcbiAgICAgICAgICBjb25zdCB7IGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgICAgLnVwZGF0ZSh1cGRhdGVzKVxuICAgICAgICAgICAgLmVxKCdpZCcsIGRhdGEudXNlci5pZCk7XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHByb2ZpbGU6JywgcHJvZmlsZUVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBlbnJpY2hlZFVzZXIgPSBhd2FpdCBlbnJpY2hVc2VyRGF0YShkYXRhLnVzZXIpO1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICB1c2VyOiBlbnJpY2hlZFVzZXIsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcjogZW5yaWNoZWRVc2VyLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IG51bGwgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGF1dGhFcnJvciA9IGVycm9yIGFzIEF1dGhFcnJvcjtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogYXV0aEVycm9yLCBsb2FkaW5nOiBmYWxzZSB9KSk7XG4gICAgICAgIHJldHVybiB7IHVzZXI6IG51bGwsIGVycm9yOiBhdXRoRXJyb3IgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtlbnJpY2hVc2VyRGF0YV1cbiAgKTtcblxuICAvLyBSZWZyZXNoIHNlc3Npb25cbiAgY29uc3QgcmVmcmVzaFNlc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3IgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLnNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGVucmljaFVzZXJEYXRhKGRhdGEuc2Vzc2lvbi51c2VyKTtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgICBzZXNzaW9uOiBkYXRhLnNlc3Npb24sXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgYXV0aEVycm9yID0gZXJyb3IgYXMgQXV0aEVycm9yO1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBlcnJvcjogYXV0aEVycm9yIH0pKTtcbiAgICB9XG4gIH0sIFtlbnJpY2hVc2VyRGF0YV0pO1xuXG4gIHJldHVybiB7XG4gICAgLi4uc3RhdGUsXG4gICAgc2lnbkluLFxuICAgIHNpZ25VcCxcbiAgICBzaWduT3V0LFxuICAgIHJlc2V0UGFzc3dvcmQsXG4gICAgdXBkYXRlUGFzc3dvcmQsXG4gICAgdXBkYXRlUHJvZmlsZSxcbiAgICByZWZyZXNoU2Vzc2lvbixcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwic3VwYWJhc2UiLCJ1c2VyUm9sZXMiLCJ1c2VBdXRoIiwic3RhdGUiLCJzZXRTdGF0ZSIsInVzZXIiLCJzZXNzaW9uIiwibG9hZGluZyIsImVycm9yIiwiZ2V0SW5pdGlhbFNlc3Npb24iLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImF1dGgiLCJnZXRTZXNzaW9uIiwiaGFzU2Vzc2lvbiIsInVzZXJJZCIsImlkIiwidXNlckVtYWlsIiwiZW1haWwiLCJtZXNzYWdlIiwic2Vzc2lvbkV4cGlyZXNBdCIsImV4cGlyZXNfYXQiLCJzZXNzaW9uQWNjZXNzVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJwcmV2IiwiZW5yaWNoVXNlckRhdGEiLCJyb2xlIiwic2hvcF9pZCIsInN1YnNjcmlwdGlvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJ1bnN1YnNjcmliZSIsInByb2ZpbGUiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJ3YXJuIiwidW5kZWZpbmVkIiwicGVybWlzc2lvbnMiLCJzaWduSW4iLCJwYXNzd29yZCIsInNpZ25JbldpdGhQYXNzd29yZCIsImVucmljaGVkVXNlciIsImF1dGhFcnJvciIsInNpZ25VcCIsInVzZXJEYXRhIiwic2hvcF9kYXRhIiwidGVtcFNob3BFcnJvciIsImluc2VydCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXN1bHQiLCJvcHRpb25zIiwibmFtZSIsIkFUVEVOREFOVCIsImVtYWlsUmVkaXJlY3RUbyIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwic2lnblVwRXJyb3IiLCJzaWduT3V0IiwicmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmRGb3JFbWFpbCIsInJlZGlyZWN0VG8iLCJ1cGRhdGVQYXNzd29yZCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVQcm9maWxlIiwidXBkYXRlcyIsInByb2ZpbGVFcnJvciIsInVwZGF0ZSIsInJlZnJlc2hTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useAuth.ts\n"));

/***/ })

});